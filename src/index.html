<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Mapbox/Angular</title>

    <script id="vetrexShader" type="x-shader/x-vertex">
      uniform sampler2D bumpTexture;
      uniform float bumpScale;

      varying float vAmount;
      void main(){

        vec4 bumpData = texture2D(bumpTexture, uv);
        vAmount =  bumpData.r;
        vec3 newPosition = position + normal * bumpScale * vAmount;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition , 1.0);

      }
    </script>

    <script id="fragmentShader" type="x-shader/x-vertex">
      varying float vAmount;
      void main()
      {
        if (vAmount < 0.001){
          discard;
        }
        else
        {


          vec4 blue = vec4((smoothstep(0.01, 0.35, vAmount) - smoothstep(0.34, 0.35, vAmount))  * vec3(0.11, 0.28, 0.49),1);
          vec4 green = vec4((smoothstep(0.3, 0.32, vAmount) - smoothstep(0.3, 0.4, vAmount))  * vec3(0.10, 0.54, 0.35),1);
          vec4 yelow = vec4((smoothstep(0.3, 0.46, vAmount) - smoothstep(0.33, 0.6, vAmount))  * vec3(0.98, 0.71, 0.13),1);
          vec4 orange = vec4((smoothstep(0.43, 0.75, vAmount) - smoothstep(0.5, 0.85, vAmount))  * vec3(0.99, 0.53, 0.21),1);
          vec4 red = vec4((smoothstep(0.7, 0.8, vAmount))  * vec3(0.97, 0.24, 0.20),1);

          gl_FragColor =  blue + green + yelow+ orange + red;
        }

      }
    </script>
  </head>
  <body>
    <app-root></app-root>
  </body>
</html>
